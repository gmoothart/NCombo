AUI.add("aui-datatype",function(C){var M=C.Lang,J="false",G="true",D=60,K=1000,F=24,I=C.namespace("DataType.Boolean"),O=C.namespace("DataType.String");I.parse=function(A){A=C.Lang.trim(A);return(A==J)?false:!!A;};O.evaluate=function(R){var A=C.Lang.trim(R);if(A==G||A==J){return I.parse(R);}if(A&&M.isString(A)){var L=+A;if(!isNaN(L)){return L;}}return R;};var M=C.Lang,H=C.Lang.String,Q=M.isDate,N=M.isValue,E=":",B="am",P="pm";C.namespace("DataType.DateMath");C.mix(C.DataType.DateMath,{DAY:"D",WEEK:"W",YEAR:"Y",MONTH:"M",MINUTES:"MINUTES",HOUR:"HOUR",SECONDS:"SECONDS",MAX_MONTH_LENGTH:31,WEEK_LENGTH:7,ONE_DAY_MS:K*D*D*F,ONE_HOUR_MS:K*D*D,ONE_MINUTE_MS:K*D,ONE_SECOND_MS:K,WEEK_ONE_JAN_DATE:1,add:function(A,U,R){var T=new Date(A.getTime());switch(U){case this.MONTH:var X=A.getMonth()+R;var S=0;if(X<0){while(X<0){X+=12;S-=1;}}else{if(X>11){while(X>11){X-=12;S+=1;}}}T.setMonth(X);T.setFullYear(A.getFullYear()+S);break;case this.DAY:this._addDays(T,R);break;case this.YEAR:T.setFullYear(A.getFullYear()+R);break;case this.WEEK:this._addDays(T,(R*7));break;case this.HOUR:var V=T.getHours();T.setHours(V+R);break;case this.MINUTES:var L=T.getMinutes();T.setMinutes(L+R);break;case this.SECONDS:var W=T.getSeconds();T.setSeconds(W+R);break;}return T;},_addDays:function(S,R){if(C.UA.webkit&&C.UA.webkit<420){if(R<0){for(var L=-128;R<L;R-=L){S.setDate(S.getDate()+L);}}else{for(var A=96;R>A;R-=A){S.setDate(S.getDate()+A);}}}S.setDate(S.getDate()+R);},compare:function(L,A){return(L&&A&&(L.getTime()==A.getTime()));},copyHours:function(R,L){var A=this;R.setHours(L.getHours());R.setMinutes(L.getMinutes());R.setSeconds(L.getSeconds());R.setMilliseconds(L.getMilliseconds());},subtract:function(A,R,L){return this.add(A,R,(L*-1));},before:function(R,L){var A=L.getTime();if(R.getTime()<A){return true;}else{return false;}},after:function(R,L){var A=L.getTime();if(R.getTime()>A){return true;}else{return false;}},between:function(L,A,R){if(this.after(L,A)&&this.before(L,R)){return true;}else{return false;}},getJan1:function(A){return this.getDate(A,0,1);},getDayOffsetYear:function(A,R){var L=this.getJan1(R);return this.getDayOffset(A,L,R);},getDayOffset:function(L,A){return this._absCeil(this.getOffset(L,A,this.ONE_DAY_MS));},getHoursOffset:function(L,A){return this._absFloor(this.getOffset(L,A,this.ONE_HOUR_MS));},getMinutesOffset:function(L,A){return this._absFloor(this.getOffset(L,A,this.ONE_MINUTE_MS));},getSecondsOffset:function(L,A){return this._absFloor(this.getOffset(L,A,this.ONE_SECOND_MS));},getOffset:function(R,L,A){var S=(R.getTime()-L.getTime())/(A||0);return S;},_absFloor:function(L){var A=Math.floor(Math.abs(L));if(L<0){A*=-1;}return A;},_absCeil:function(L){var A=Math.ceil(Math.abs(L));if(L<0){A*=-1;}return A;},getWeekNumber:function(T,L,W){L=L||0;W=W||this.WEEK_ONE_JAN_DATE;var X=this.clearTime(T),b,c;if(X.getDay()===L){b=X;}else{b=this.getFirstDayOfWeek(X,L);}var Y=b.getFullYear(),R=b.getTime();c=new Date(b.getTime()+6*this.ONE_DAY_MS);var V;if(Y!==c.getFullYear()&&c.getDate()>=W){V=1;}else{var U=this.clearTime(this.getDate(Y,0,W)),A=this.getFirstDayOfWeek(U,L);var Z=Math.round((X.getTime()-A.getTime())/this.ONE_DAY_MS);var a=Z%7;var S=(Z-a)/7;V=S+1;}return V;},getFirstDayOfWeek:function(S,A){A=A||0;var L=S.getDay(),R=(L-A+7)%7;return this.subtract(S,this.DAY,R);},isWeekDay:function(L){var A=L.getDay();return(A>0)&&(A<6);},isTueOrThu:function(A){return this.isWeekDay(A)&&(A.getDay()%2===0);},isMonWedOrFri:function(A){return this.isWeekDay(A)&&!this.isTueOrThu(A);},isDayOverlap:function(L,A){return((L.getFullYear()!==A.getFullYear())||(L.getMonth()!==A.getMonth())||(L.getDate()!==A.getDate()));},isToday:function(A){return !this.isDayOverlap(A,new Date());},isSameMonth:function(L,A){return((L.getFullYear()===A.getFullYear())&&(L.getMonth()===A.getMonth()));},isYearOverlapWeek:function(A){var R=false;var L=this.add(A,this.DAY,6);if(L.getFullYear()!=A.getFullYear()){R=true;}return R;},isMonthOverlapWeek:function(A){var R=false;var L=this.add(A,this.DAY,6);if(L.getMonth()!=A.getMonth()){R=true;}return R;},findMonthStart:function(A){var L=this.getDate(A.getFullYear(),A.getMonth(),1);return L;},findMonthEnd:function(L){var S=this.findMonthStart(L);var R=this.add(S,this.MONTH,1);var A=this.subtract(R,this.DAY,1);return A;},clearTime:function(A){A.setHours(12,0,0,0);return A;},safeClearTime:function(A){return this.clearTime(this.clone(A));},clone:function(A){return new Date(A.getTime());},getDate:function(S,A,R){var L=null;if(!N(R)){R=1;}if(S>=100){L=new Date(S,A,R);}else{L=new Date();L.setFullYear(S);L.setMonth(A);L.setDate(R);L.setHours(0,0,0,0);}return L;},getDaysInMonth:function(A,L){return this.findMonthEnd(this.getDate(A,L)).getDate();},toUsTimeString:function(R,W,T,V){R=Q(R)?R:new Date(0,0,0,R);var L=R.getHours();var S=R.getMinutes();var A=false;if(L>12){A=true;L-=12;}if(L===0){L=12;}var U=W?H.padNumber(L,2):String(L);if(!T){U+=E;U+=H.padNumber(S,2);}if(!V){U+=(A?P:B);}return U;},toIsoTimeString:function(R,L){R=Q(R)?R:new Date(0,0,0,R);var A=R.getHours();var S=R.getMinutes();var T=H.padNumber(A,2)+E+H.padNumber(S,2);if(L){var U=R.getSeconds();T+=E;T+=H.padNumber(U,2);}return T;}});},"@VERSION@",{skinnable:false,requires:["aui-base"]});